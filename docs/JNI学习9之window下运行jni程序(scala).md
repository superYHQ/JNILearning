更多代码请见：https://github.com/xubo245/JNILearning

1.新建scala文件helloWindow。scala：
	
	/**
	  * Created by xubo on 2016/6/22.
	  */
	
	class helloWindow {
	  @native
	  def add(a: Int, b: Int): Int
	
	  @native
	  def hello(): String
	}
	
	object helloWindow {
	  System.loadLibrary("helloWindow")
	  def main(args: Array[String]) {
	    val helloWindow1 = new helloWindow
	    println(helloWindow1.hello + ", 5 + 5 = " + helloWindow1.add(5, 5))
	  }
	}

2.编译：

	scalac helloWindow.scala

生成helloWindow.class

3.生成头文件：

	javah -classpath D:/1win7/scala/lib/*;. -jni helloWindow

自己需要安装好scala，生成头文件helloWindow.h:
	
	/* DO NOT EDIT THIS FILE - it is machine generated */
	#include <jni.h>
	/* Header for class helloWindow */
	
	#ifndef _Included_helloWindow
	#define _Included_helloWindow
	#ifdef __cplusplus
	extern "C" {
	#endif
	/*
	 * Class:     helloWindow
	 * Method:    add
	 * Signature: (II)I
	 */
	JNIEXPORT jint JNICALL Java_helloWindow_add
	  (JNIEnv *, jobject, jint, jint);
	
	/*
	 * Class:     helloWindow
	 * Method:    hello
	 * Signature: ()Ljava/lang/String;
	 */
	JNIEXPORT jstring JNICALL Java_helloWindow_hello
	  (JNIEnv *, jobject);
	
	#ifdef __cplusplus
	}
	#endif
	#endif


4.编写c文件：

vs2013下新建win32项目，dll：使用请参考《JNI学习5之window下运行jni程序(java).md》

代码：

	// helloWindow.cpp : 定义 DLL 应用程序的导出函数。
	//
	
	#include "stdafx.h"
	#include <jni.h>
	#include "helloWindow.h"
	
	JNIEXPORT jint JNICALL Java_helloWindow_add
	(JNIEnv *, jobject obj, jint value1, jint value2){
		//printf("add scala ");
		return (value1 + value2);
	
	}
	
	/*
	* Class:     helloWindow
	* Method:    hello
	* Signature: ()Ljava/lang/String;
	*/
	JNIEXPORT jstring JNICALL Java_helloWindow_hello
	(JNIEnv * env, jobject){
		printf("hello scala ");
		return (*env).NewStringUTF("hello");
	
	}

生成dll后将其放到java的bin目录下

5.运行：

	hello, 5 + 5 = 10
	hello scala 
	Process finished with exit code 0

更多代码请见：https://github.com/xubo245/JNILearning